(this["webpackJsonpapp-test"]=this["webpackJsonpapp-test"]||[]).push([[0],{11:function(e,t,a){},23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),c=(a(28),a(20)),i=a(14),s=a(15),m=a(22),u=a(21),d=(a(11),a(39)),h=a(18),f=a(37),p=a(40),g=a(19),y=a(16);function E(e){var t=e.product.map((function(t){return r.a.createElement(d.a,{key:t.key,className:"bg-info pt-3"},r.a.createElement(d.a.Row,null,r.a.createElement(h.a,{xs:2},r.a.createElement(d.a.Control,{type:"text",value:t.text,id:t.key,onChange:function(a){return e.editText(a.target.value,t.key)}})),r.a.createElement(h.a,{xs:2},r.a.createElement(d.a.Control,{type:"number",value:t.number,id:t.key,onChange:function(a){return e.editNumber(a.target.value,t.key)}})),r.a.createElement(h.a,{xs:2},r.a.createElement(d.a.Control,{type:"date",value:t.date,id:t.key,onChange:function(a){return e.editDate(a.target.value,t.key)}})),r.a.createElement(h.a,{xs:3},r.a.createElement(d.a.Group,{as:f.a},r.a.createElement(d.a.Label,{htmlFor:"check",column:!0,sm:"8",className:"text-light text-center"},!0===t.isChecked?"Erledigt":"Unerledigt"),r.a.createElement(h.a,{sm:"4"},r.a.createElement(d.a.Control,{type:"checkbox",id:t.key,value:t.isChecked,checked:t.isChecked,onChange:function(a){return e.toggleChange(a.target.checked,t.key)}})))),r.a.createElement(h.a,{xs:3},r.a.createElement(p.a,{onClick:function(){return e.deleteElement(t)}},r.a.createElement(y.a,{icon:g.a})))))}));return r.a.createElement("div",null,t)}a(35);var k=a(38);var v=function(){var e=[],t=(e=null!==localStorage.getItem("expArr")?JSON.parse(localStorage.getItem("expArr")):[]).map((function(e){return r.a.createElement(d.a,{key:e.key,className:"pb-2"},r.a.createElement(d.a.Row,{className:"m-2"},r.a.createElement(h.a,{xs:2},r.a.createElement(d.a.Label,{className:"pt-1"},"Abgelaufenes Produkt:")),r.a.createElement(h.a,{xs:2},r.a.createElement(d.a.Control,{type:"text",value:e.text,disabled:!0}))))}));return 0===e.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"mt-2"},"Expire List:"),r.a.createElement("div",null,t))},b=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).checkDates=function(){var e=[],t=(e=null!==localStorage.getItem("LocalData")?JSON.parse(localStorage.getItem("LocalData")):[]).filter((function(t,a,r){var o=Date.parse(t.date)<Date.now()&&!1===t.isChecked;return!0===o&&!1===t.isNotify&&(n.notifySet(t),e[a].isNotify=!0),o}));localStorage.setItem("expArr",JSON.stringify(t)),localStorage.setItem("LocalData",JSON.stringify(e)),n.setState(n.state)},n.addMemory=function(e){localStorage.setItem("LocalData",JSON.stringify(e)),console.log(localStorage)},n.addElement=function(e){e.preventDefault();var t=n.state.element;if(""!==t.text&&""!==t.number&&""!==t.date){var a=[].concat(Object(c.a)(n.state.products),[t]);n.addMemory(a),n.setState({products:a,element:{text:"",key:"",number:"",date:"",isChecked:!1,isNotify:!1}})}},n.handleText=function(e){n.setState({element:{text:e.target.value,key:Date.now(),number:n.state.element.number,date:n.state.element.date,isChecked:n.state.element.isChecked,isNotify:n.state.element.isNotify}})},n.handleNumber=function(e){n.setState({element:{number:e.target.value,key:Date.now(),text:n.state.element.text,date:n.state.element.date,isChecked:n.state.element.isChecked,isNotify:n.state.element.isNotify}})},n.handleDate=function(e){n.setState({element:{date:e.target.value,key:Date.now(),text:n.state.element.text,number:n.state.element.number,isChecked:n.state.element.isChecked,isNotify:n.state.element.isNotify}})},n.deleteElement=function(e){var t=n.state.products,a=t.indexOf(e);a>-1&&t.splice(a,1),n.addMemory(t),n.setState({products:t})},n.editText=function(e,t){var a=n.state.products;a.map((function(a){a.key===t&&(a.text=e)})),n.addMemory(a),n.setState({text:a})},n.editNumber=function(e,t){var a=n.state.products;a.map((function(a){a.key===t&&(a.number=e)})),n.addMemory(a),n.setState({text:a})},n.editDate=function(e,t){var a=n.state.products;a.map((function(a){a.key===t&&(a.date=e)})),n.addMemory(a),n.setState({text:a})},n.toggleChange=function(e,t){var a=n.state.products;a.map((function(e){e.key===t&&(e.isChecked=!e.isChecked)})),console.log("check",a),n.addMemory(a),n.setState({products:a})},n.notifyMe=function(e){new Notification("Expired product",{tag:"ache-mail",body:e.text,renotify:!0})},n.notifySet=function(e){"Notification"in window?"granted"===Notification.permission?setTimeout((function(){n.notifyMe(e)}),1e3):"denied"!==Notification.permission&&Notification.requestPermission((function(t){var a=this;"granted"===t&&setTimeout((function(){a.notifyMe(e)}),1e3)})):console.log("browser is not support")};var r=[];return null!==localStorage.getItem("LocalData")&&(r=JSON.parse(localStorage.getItem("LocalData"))),n.state={products:r,element:{text:"",key:"",number:"",date:"",isChecked:!1,isNotify:!1},tempInterval:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=setInterval(this.checkDates,2e3);this.setState({tempInterval:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.tempInterval)}},{key:"render",value:function(){return r.a.createElement(k.a,{fluid:"md",className:"bg-light"},r.a.createElement(f.a,{className:"justify-content-sm-center"},r.a.createElement("h1",null,"Einkaufsplanner")),r.a.createElement(d.a,null,r.a.createElement(d.a.Row,{className:"align-items-center"},r.a.createElement(d.a.Group,{as:h.a,md:3},r.a.createElement(d.a.Label,{htmlFor:"name"},"Name:"),r.a.createElement(d.a.Control,{type:"text",id:"name",value:this.state.element.text,onChange:this.handleText})),r.a.createElement(d.a.Group,{as:h.a,md:3},r.a.createElement(d.a.Label,{htmlFor:"number"},"Number:"),r.a.createElement(d.a.Control,{type:"number",id:"number",value:this.state.element.number,onChange:this.handleNumber})),r.a.createElement(d.a.Group,{as:h.a,md:3},r.a.createElement(d.a.Label,{htmlFor:"date"},"Date:"),r.a.createElement(d.a.Control,{type:"date",id:"date",value:this.state.element.date,onChange:this.handleDate})),r.a.createElement(p.a,{className:"mt-3",variant:"outline-success",onClick:this.addElement},"Add"))),r.a.createElement(E,{product:this.state.products,deleteElement:this.deleteElement,editText:this.editText,editNumber:this.editNumber,editDate:this.editDate,toggleChange:this.toggleChange,notify:this.notifySet}),r.a.createElement(v,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.faa18999.chunk.js.map